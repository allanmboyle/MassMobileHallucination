<script src="jquery.min.js"></script>
<script src="tagcanvas.min.js" type="text/javascript"></script>
<style type="text/css">
canvas {
        padding-left: 0;
        padding-right: 0;
        margin-left: auto;
        margin-right: auto;
        display: block;
    }
</style>
<script type="text/javascript">
    var i = 1;
    window.onload = function () {
        initialiseCloudTags();
    };

    //shuffle list items so that each time the cloud tag is generated the tags start at a different position
    // in the screen otherwise its obvious that its restarting
    function shuffle(elems) {
        allElems = (function () {
            var ret = [],
                    l = elems.length;
            while (l--) {
                ret[ret.length] = elems[l];
            }
            return ret;
        })();

        var shuffled = (function () {
                    var l = allElems.length,
                            ret = [];
                    while (l--) {
                        var random = Math.floor(Math.random() * allElems.length),
                                randEl = allElems[random].cloneNode(true);
                        allElems.splice(random, 1);
                        ret[ret.length] = randEl;
                    }
                    return ret;
                })(),
                l = elems.length;

        while (l--) {
            elems[l].parentNode.insertBefore(shuffled[l], elems[l].nextSibling);
            elems[l].parentNode.removeChild(elems[l]);
        }
    }

    function initialiseCloudTags() {
        try {
            TagCanvas.Start('myCanvas', 'tags', {
                textFont: 'Impact,"Arial Black",sans-serif',
                textColour: null,
                outlineColour: '#ff00ff',
                reverse: true,
                depth: 0.95,
                maxSpeed: 0.02,
                shape: 'sphere',
                noSelect: 'true',
                initial: [0.8, - 0.3]
            });
        } catch (e) {
            // something went wrong, hide the canvas container
            document.getElementById('myCanvasContainer').style.display = 'none';
        }
    }

    function AddItem() {
        for (i = 0; i < 10; i++) {
            var clr = '#' + (Math.random() * 0xFFFFFF << 0).toString(16);
            $("#playerswarm").append('<li><a style="color:' + clr + ';">Another Contestant' + i + '</a></li>');
        }


        //kick it all off
        shuffle(document.getElementsByTagName('li'));
        initialiseCloudTags();
        i++;
    }
</script>
<div id='swarmingNames' style="width: 100%; height: 100%; background-color:white;">
    <input type=button onclick="AddItem();" value='Add more names to the swarm!'>
    <div id="myCanvasContainer">
        <canvas width="1400" height="800" id="myCanvas" align=centre>
            <p>gets replaced with the swarm!</p>
        </canvas>
    </div>
</div>
<div id="tags" style="display: none">
    <ul id="playerswarm">
        <li> <a style="color:#FF0000;">Simon Raik-Allen</a></li>
        <li> <a style="color:green;">Loren C. Carpenter</a></li>
        <li> <a style="color:purple;">Aidan Casey</a></li>
    </ul>
</div>
<script src="/games/presentation/swarm_playfield.js"></script>
<script>
    // mandatory init function
    function initPlayfield() {
        SwarmPlayField.init();

        return SwarmPlayField;
    }
</script>